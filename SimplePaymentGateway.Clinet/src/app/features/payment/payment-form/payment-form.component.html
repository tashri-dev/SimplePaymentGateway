<div class="payment-container">
  <div class="card payment-card">
    <div class="card-header">
      <h2>Payment Details</h2>
      <p class="subtitle">Enter your card information securely</p>
    </div>

    <div class="card-content">
      <form [formGroup]="paymentForm" (ngSubmit)="onSubmit()" class="payment-form">
        <!-- Card Information Section -->
        <div class="form-section">
          <h3>Card Information</h3>
          <div class="form-row">
            <div class="form-group full-width">
              <label for="cardNo">Card Number</label>
              <input id="cardNo"
                     type="text"
                     formControlName="cardNo"
                     placeholder="1234 5678 9012 3456"
                     maxlength="19">
              <span class="error-message">{{getErrorMessage('cardNo')}}</span>
            </div>
          </div>

          <div class="form-row">
            <div class="form-group full-width">
              <label for="cardHolder">Cardholder Name</label>
              <input id="cardHolder"
                     type="text"
                     formControlName="cardHolder"
                     placeholder="JOHN DOE"
                     autocomplete="cc-name">
              <span class="error-message">{{getErrorMessage('cardHolder')}}</span>
            </div>
          </div>

          <div class="form-row card-details">
            <div class="form-group">
              <label for="expiryDate">Expiry Date</label>
              <input id="expiryDate"
                     type="text"
                     formControlName="expiryDate"
                     placeholder="MM/YY"
                     autocomplete="cc-exp">
              <span class="error-message">{{getErrorMessage('expiryDate')}}</span>
            </div>

            <div class="form-group">
              <label for="cvv">CVV</label>
              <input id="cvv"
                     type="password"
                     formControlName="cvv"
                     placeholder="***"
                     autocomplete="cc-csc">
              <span class="error-message">{{getErrorMessage('cvv')}}</span>
            </div>
          </div>
        </div>

        <!-- Transaction Details Section -->
        <div class="form-section">
          <h3>Transaction Details</h3>
          <div class="form-row amount-currency">
            <div class="form-group">
              <label for="amount">Amount</label>
              <input id="amount"
                     type="text"
                     formControlName="amountTrxn"
                     placeholder="0.00">
              <span class="error-message">{{getErrorMessage('amountTrxn')}}</span>
            </div>

            <div class="form-group">
              <label for="currency">Currency</label>
              <select id="currency" formControlName="currencyCode" class="select-input">
                <option *ngFor="let currency of currencies" [value]="currency.code">
                  {{currency.name}} ({{currency.symbol}})
                </option>
              </select>
            </div>
          </div>

          <div class="form-row">
            <div class="form-group full-width">
              <label for="transactionType">Transaction Type</label>
              <select id="transactionType" formControlName="functionCode" class="select-input">
                <option *ngFor="let type of functionCodes" [value]="type.code">
                  {{type.name}}
                </option>
              </select>
            </div>
          </div>
        </div>

        <div class="card-actions">
          <button type="button"
                  [disabled]="loading"
                  (click)="paymentForm.reset()">
            Clear
          </button>
          <button type="submit"
                  [disabled]="paymentForm.invalid || loading">
            <span *ngIf="!loading">Process Payment</span>
            <span *ngIf="loading">Loading...</span>
          </button>
        </div>
      </form>
    </div>
  </div>
</div>
